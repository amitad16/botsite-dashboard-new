{"version":3,"sources":["elements/PrimaryButton.js","utils/project.util.js","elements/Alert.js","services/api/project/getProjectDetails.service.js","actions/project/setCurrentProject.js","containers/Dashboard/Dashboard.js","elements/CustomForm/CustomFormField.js","elements/CustomForm/CustomFormSubmitBtn.js","containers/Dashboard/index.js","services/api/project/addTeacher.service.js","containers/Dashboard/Teachers/AddTeacher.js","actions/project/addTeacher.js"],"names":["PrimaryButton","className","children","props","setCurrentProjectToLocalStorage","project","localStorage","setItem","JSON","stringify","removeCurrentProjectFromLocalStorage","removeItem","getCurrentProjectFromLocalStorage","getItem","parse","WarningIcon","loadable","ErrorIcon","CheckCircleIcon","InfoIcon","Alert","type","heading","description","alertTypeClass","alertIcon","role","projectId","a","token","getUserFromLocalStorage","url","process","axios","get","headers","Authorization","data","setCurrentProject","dispatch","SET_CURRENT_PROJECT","TRIGGER","REQUEST","getProjectDetailsService","res","SUCCESS","payload","error","response","message","FAILURE","FULFIL","unsetCurrentProject","UNSET_CURRENT_PROJECT","mapDispatchToProps","connect","useParams","useEffect","currentProject","_id","CustomFormField","name","label","placeholder","disabled","hidden","htmlFor","component","CustomFormSubmitBtn","isSubmitting","isValid","btnText","btnColorClass","btnDisabledColorClass","btnWidthClass","color","secondaryColor","height","width","timeout","Dashboard","value","post","AddTeacherSchema","object","shape","firstname","string","min","max","required","lastname","email","password","subjects","oneOf","AddTeacher","handleSubmit","bind","values","setSubmitting","v","split","map","trim","this","addTeacher","addTeacherDetails","success","initialValues","validationSchema","onSubmit","PureComponent","ADD_TEACHER","addTeacherService","history","push","state","teachers","add"],"mappings":"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","file":"static/js/8.ea858c60.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst PrimaryButton = ({ className, children, ...props }) => {\r\n  return (\r\n    <button\r\n      className={`hover:bg-primary text-white py-4 px-4 rounded focus:outline-none focus:shadow-outline uppercase ${\r\n        className ? className : \"\"\r\n      }`}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default PrimaryButton;\r\n","export const setCurrentProjectToLocalStorage = (project) => {\r\n  localStorage.setItem(\"currentProject\", JSON.stringify(project));\r\n};\r\n\r\nexport const removeCurrentProjectFromLocalStorage = () => {\r\n  localStorage.removeItem(\"currentProject\");\r\n};\r\n\r\nexport const getCurrentProjectFromLocalStorage = () => {\r\n  let project = localStorage.getItem(\"currentProject\");\r\n\r\n  if (!project) return null;\r\n\r\n  return JSON.parse(project);\r\n};\r\n","import React from \"react\";\r\nimport loadable from \"@loadable/component\";\r\n\r\nconst WarningIcon = loadable(() => import(\"@material-ui/icons/Warning\"));\r\nconst ErrorIcon = loadable(() => import(\"@material-ui/icons/Error\"));\r\nconst CheckCircleIcon = loadable(() =>\r\n  import(\"@material-ui/icons/CheckCircle\")\r\n);\r\nconst InfoIcon = loadable(() => import(\"@material-ui/icons/Info\"));\r\n\r\n// import WarningIcon from '@material-ui/icons/Warning';\r\n// import ErrorIcon from '@material-ui/icons/Error';\r\n// import CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\n// import InfoIcon from '@material-ui/icons/Info';\r\n\r\nconst Alert = ({ type, heading, description }) => {\r\n  let alertTypeClass = \"blue\";\r\n  let alertIcon = <InfoIcon className=\"text-blue-500\" />;\r\n\r\n  switch (type) {\r\n    case \"success\":\r\n      alertTypeClass = \"green\";\r\n      alertIcon = <CheckCircleIcon className=\"text-green-500\" />;\r\n      break;\r\n    case \"warning\":\r\n      alertTypeClass = \"yellow\";\r\n      alertIcon = <WarningIcon className=\"text-yellow-500\" />;\r\n      break;\r\n    case \"info\":\r\n      alertTypeClass = \"teal\";\r\n      alertIcon = <InfoIcon className=\"text-teal-500\" />;\r\n      break;\r\n    case \"error\":\r\n      alertTypeClass = \"red\";\r\n      alertIcon = <ErrorIcon className=\"text-red-500\" />;\r\n      break;\r\n    default:\r\n      alertTypeClass = \"blue\";\r\n      alertIcon = <InfoIcon className=\"text-blue-500\" />;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`w-full bg-${alertTypeClass}-100 border-t-4 border-${alertTypeClass}-500 rounded-b text-${alertTypeClass}-900 px-4 py-3 shadow-md mb-6`}\r\n      role=\"alert\"\r\n    >\r\n      <div className=\"flex items-center\">\r\n        <div className=\"pr-2\">{alertIcon}</div>\r\n        <div>\r\n          <p className=\"font-bold\">{heading}</p>\r\n          {!!description && <p className=\"text-sm\">{description}</p>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","import axios from \"utils/axiosInstance.util\";\r\nimport { getUserFromLocalStorage } from \"utils/auth.util\";\r\n\r\nexport default async (projectId) => {\r\n  let token = getUserFromLocalStorage();\r\n\r\n  let url = `/api/${process.env.REACT_APP_API_VERSION}/project/${projectId}/details`;\r\n\r\n  let { data } = await axios.get(url, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n\r\n  return data;\r\n};\r\n","import { SET_CURRENT_PROJECT, UNSET_CURRENT_PROJECT } from \"./types\";\r\n\r\n// Service\r\nimport getProjectDetailsService from \"services/api/project/getProjectDetails.service\";\r\n\r\nimport {\r\n  setCurrentProjectToLocalStorage,\r\n  removeCurrentProjectFromLocalStorage,\r\n} from \"utils/project.util\";\r\n\r\nexport const setCurrentProject = (project) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: SET_CURRENT_PROJECT.TRIGGER });\r\n\r\n    dispatch({ type: SET_CURRENT_PROJECT.REQUEST });\r\n\r\n    if (typeof project === \"string\") {\r\n      let res = await getProjectDetailsService(project);\r\n      setCurrentProjectToLocalStorage(res);\r\n\r\n      dispatch({\r\n        type: SET_CURRENT_PROJECT.SUCCESS,\r\n        payload: res,\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: SET_CURRENT_PROJECT.SUCCESS,\r\n        payload: project,\r\n      });\r\n    }\r\n  } catch (err) {\r\n    let error = {};\r\n\r\n    if (err.response) {\r\n      error = err.response.data;\r\n    } else {\r\n      error.message = err.message ? err.message : err;\r\n    }\r\n    dispatch({\r\n      type: SET_CURRENT_PROJECT.FAILURE,\r\n      payload: error,\r\n    });\r\n  } finally {\r\n    dispatch({ type: SET_CURRENT_PROJECT.FULFIL });\r\n  }\r\n};\r\n\r\nexport const unsetCurrentProject = () => (dispatch) => {\r\n  dispatch({ type: UNSET_CURRENT_PROJECT });\r\n  removeCurrentProjectFromLocalStorage();\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport \"react-pro-sidebar/dist/css/styles.css\";\r\n\r\nimport { setCurrentProject } from \"actions/project/setCurrentProject\";\r\n\r\n// import SideNavigation from \"elements/SideNavigation\";\r\n// import Navigation from \"elements/Navigation\";\r\nimport { getCurrentProjectFromLocalStorage } from \"utils/project.util\";\r\n\r\nconst Dashboard = ({ children, setCurrentProject }) => {\r\n  let { projectId } = useParams();\r\n\r\n  useEffect(() => {\r\n    let currentProject = getCurrentProjectFromLocalStorage();\r\n\r\n    if (currentProject && currentProject._id === projectId) {\r\n      setCurrentProject(currentProject);\r\n    } else setCurrentProject(projectId);\r\n  }, []);\r\n\r\n  return (\r\n    // <div className=\"flex flex-row w-full h-screen\">\r\n    //   <SideNavigation />\r\n    //   <div className=\"flex flex-grow flex-col overflow-y-auto bg-secondary-1\">\r\n    //     <Navigation />\r\n    //     <div className=\"w-full px-4 py-12 mx-auto antialiased font-body\">\r\n    <div className=\"py-12 px-4 min-h-screen bg-secondary-1\">{children}</div>\r\n    //     </div>\r\n    //   </div>\r\n    // </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = { setCurrentProject };\r\n\r\nexport default connect(null, mapDispatchToProps)(Dashboard);\r\n","import React from \"react\";\r\nimport { Field, ErrorMessage } from \"formik\";\r\n\r\nconst CustomFormField = ({\r\n  name,\r\n  label,\r\n  type,\r\n  placeholder,\r\n  disabled,\r\n  hidden,\r\n}) => {\r\n  return (\r\n    <div className=\"pb-4\">\r\n      {!!label && (\r\n        <label htmlFor={name} className=\"text-sm block text-gray-500 pb-2\">\r\n          {label}\r\n        </label>\r\n      )}\r\n      <Field\r\n        className=\"shadow appearance-none border rounded w-full py-4 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline border-gray-300 \"\r\n        type={type}\r\n        name={name}\r\n        placeholder={placeholder}\r\n        disabled={disabled}\r\n        hidden={hidden}\r\n      />\r\n      <ErrorMessage\r\n        className=\"text-red-500 text-sm\"\r\n        name={name}\r\n        component=\"div\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomFormField;\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport PrimaryButton from \"elements/PrimaryButton\";\r\n\r\nconst CustomFormSubmitBtn = ({\r\n  isSubmitting,\r\n  isValid,\r\n  btnText,\r\n  btnColorClass,\r\n  btnDisabledColorClass,\r\n  btnWidthClass,\r\n}) => {\r\n  return (\r\n    <div>\r\n      {isSubmitting ? (\r\n        <PrimaryButton\r\n          className={`${btnWidthClass || \"w-full\"} cursor-not-allowed ${\r\n            btnDisabledColorClass || \"bg-primary-1\"\r\n          }`}\r\n          type=\"button\"\r\n          disabled={isSubmitting}\r\n        >\r\n          <Loader\r\n            className=\"flex items-center justify-center\"\r\n            type=\"ThreeDots\"\r\n            color=\"#FFFFFF\"\r\n            secondaryColor=\"#FFFFFF\"\r\n            height={25}\r\n            width={40}\r\n            timeout={0}\r\n          />\r\n        </PrimaryButton>\r\n      ) : (\r\n        <PrimaryButton\r\n          className={`${btnWidthClass || \"w-full\"} ${\r\n            !isValid\r\n              ? `cursor-not-allowed ${btnDisabledColorClass || \"bg-primary-1\"}`\r\n              : btnColorClass || \"bg-primary-2\"\r\n          }`}\r\n          type=\"submit\"\r\n          disabled={!isValid}\r\n        >\r\n          {btnText}\r\n        </PrimaryButton>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomFormSubmitBtn;\r\n","import Dashboard from \"./Dashboard\";\r\n\r\nexport default Dashboard;\r\n","import axios from \"utils/axiosInstance.util\";\r\nimport { getUserFromLocalStorage } from \"utils/auth.util\";\r\n\r\nexport default async (projectId, value) => {\r\n  let token = getUserFromLocalStorage();\r\n\r\n  let url = `/api/${process.env.REACT_APP_API_VERSION}/project/${projectId}/add/teacher`;\r\n\r\n  let { data } = await axios.post(url, value, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n\r\n  return data;\r\n};\r\n","import React, { PureComponent } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Formik, Form } from \"formik\";\r\nimport { object, string } from \"yup\";\r\nimport CustomFormField from \"elements/CustomForm/CustomFormField\";\r\nimport CustomFormSubmitBtn from \"elements/CustomForm/CustomFormSubmitBtn\";\r\nimport Dashboard from \"..\";\r\n\r\nimport { addTeacher } from \"actions/project/addTeacher\";\r\nimport Alert from \"elements/Alert\";\r\n\r\nconst AddTeacherSchema = object().shape({\r\n  firstname: string()\r\n    .min(3, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  lastname: string()\r\n    .min(3, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  email: string().email(\"Invalid email\").required(\"Required\"),\r\n  password: string()\r\n    .min(6, \"Too Short!\")\r\n    .max(20, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  subjects: string().required(\"Required\"),\r\n  role: string().oneOf([\"teacher\"]).required(\"Required\"),\r\n});\r\n\r\nclass AddTeacher extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleSubmit(values, { setSubmitting }) {\r\n    // setTimeout(() => {\r\n    //   alert(JSON.stringify(values, null, 2));\r\n    //   setSubmitting(false);\r\n    // }, 400);\r\n\r\n    let v = { ...values };\r\n\r\n    v.subjects = v.subjects.split(\",\").map((v) => v.trim());\r\n\r\n    this.props.addTeacher(this.props.projectId, v, { setSubmitting });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Dashboard>\r\n        <div className=\"AddTeacher w-1/2 mx-auto p-4 shadow-md bg-white\">\r\n          {this.props.addTeacherDetails.error &&\r\n            this.props.addTeacherDetails.error.message && (\r\n              // <p>{this.props.addTeacherDetails.error.message}</p>\r\n              <Alert\r\n                type=\"error\"\r\n                heading={this.props.addTeacherDetails.error.message}\r\n              />\r\n            )}\r\n\r\n          {this.props.addTeacherDetails.data &&\r\n            this.props.addTeacherDetails.data.success && (\r\n              // <p>Successfully added teacher</p>\r\n              <Alert type=\"success\" heading=\"Successfully added teacher\" />\r\n            )}\r\n\r\n          <Formik\r\n            initialValues={{\r\n              firstname: \"\",\r\n              lastname: \"\",\r\n              email: \"\",\r\n              password: \"\",\r\n              subjects: \"\",\r\n              role: \"teacher\",\r\n            }}\r\n            validationSchema={AddTeacherSchema}\r\n            onSubmit={this.handleSubmit}\r\n          >\r\n            {({ isSubmitting, isValid }) => (\r\n              <Form>\r\n                <CustomFormField\r\n                  label=\"First Name\"\r\n                  name=\"firstname\"\r\n                  type=\"text\"\r\n                  placeholder=\"John\"\r\n                />\r\n                <CustomFormField\r\n                  label=\"Last Name\"\r\n                  name=\"lastname\"\r\n                  type=\"text\"\r\n                  placeholder=\"Wick\"\r\n                />\r\n                <CustomFormField\r\n                  label=\"Email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  placeholder=\"john@wick.com\"\r\n                />\r\n                <CustomFormField\r\n                  label=\"Password\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  placeholder=\"Create teacher password\"\r\n                />\r\n                <CustomFormField\r\n                  label=\"Subjects\"\r\n                  name=\"subjects\"\r\n                  type=\"text\"\r\n                  placeholder=\"Subject1, Subject 2...\"\r\n                />\r\n\r\n                <CustomFormField name=\"role\" type=\"text\" hidden={true} />\r\n                <CustomFormSubmitBtn\r\n                  isSubmitting={isSubmitting}\r\n                  isValid={isValid}\r\n                  btnText=\"Update Profile\"\r\n                  btnColorClass=\"bg-primary-2\"\r\n                  btnWidthClass=\"w-1/2\"\r\n                />\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </div>\r\n      </Dashboard>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  projectId:\r\n    state.project.currentProject.data && state.project.currentProject.data._id,\r\n  addTeacherDetails: state.project.teachers.add,\r\n});\r\n\r\nconst mapDispatchToProps = { addTeacher };\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddTeacher);\r\n","import { ADD_TEACHER } from \"./types\";\r\n\r\n// Service\r\nimport addTeacherService from \"services/api/project/addTeacher.service\";\r\nimport history from \"../../history\";\r\n\r\nexport const addTeacher = (projectId, value, { setSubmitting }) => async (\r\n  dispatch\r\n) => {\r\n  try {\r\n    dispatch({ type: ADD_TEACHER.TRIGGER });\r\n\r\n    dispatch({ type: ADD_TEACHER.REQUEST });\r\n\r\n    let res = await addTeacherService(projectId, value);\r\n\r\n    dispatch({\r\n      type: ADD_TEACHER.SUCCESS,\r\n      payload: res,\r\n    });\r\n\r\n    history.push(`/project/${projectId}/teachers`);\r\n  } catch (err) {\r\n    let error = {};\r\n\r\n    if (err.response) {\r\n      error = err.response.data;\r\n    } else {\r\n      error.message = err.message ? err.message : err;\r\n    }\r\n    dispatch({\r\n      type: ADD_TEACHER.FAILURE,\r\n      payload: error,\r\n    });\r\n  } finally {\r\n    dispatch({ type: ADD_TEACHER.FULFIL });\r\n    setSubmitting(false);\r\n  }\r\n};\r\n"],"sourceRoot":""}