{"version":3,"sources":["elements/PrimaryButton.js","elements/Alert.js","services/api/auth/resetPassword.service.js","containers/ResetPassword/ResetPassword.js","containers/ResetPassword/index.js"],"names":["PrimaryButton","className","children","props","WarningIcon","loadable","ErrorIcon","CheckCircleIcon","InfoIcon","Alert","type","heading","description","alertTypeClass","alertIcon","role","info","token","a","url","process","axios","post","headers","data","ResetPassword","useState","password","passwordConfirm","formData","setFormData","error","setError","success","setSuccess","isLoading","setisLoading","handleChange","target","name","value","prevState","handleSubmit","e","preventDefault","history","location","search","s","replace","split","i","indexOf","resetPasswordService","message","response","src","alt","onSubmit","htmlFor","id","placeholder","onChange","disabled","color","secondaryColor","height","width","timeout","to"],"mappings":"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","file":"static/js/15.1fa2f37c.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst PrimaryButton = ({ className, children, ...props }) => {\r\n  return (\r\n    <button\r\n      className={`hover:bg-primary text-white py-4 px-4 rounded focus:outline-none focus:shadow-outline uppercase ${\r\n        className ? className : \"\"\r\n      }`}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default PrimaryButton;\r\n","import React from \"react\";\r\nimport loadable from \"@loadable/component\";\r\n\r\nconst WarningIcon = loadable(() => import(\"@material-ui/icons/Warning\"));\r\nconst ErrorIcon = loadable(() => import(\"@material-ui/icons/Error\"));\r\nconst CheckCircleIcon = loadable(() =>\r\n  import(\"@material-ui/icons/CheckCircle\")\r\n);\r\nconst InfoIcon = loadable(() => import(\"@material-ui/icons/Info\"));\r\n\r\n// import WarningIcon from '@material-ui/icons/Warning';\r\n// import ErrorIcon from '@material-ui/icons/Error';\r\n// import CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\n// import InfoIcon from '@material-ui/icons/Info';\r\n\r\nconst Alert = ({ type, heading, description }) => {\r\n  let alertTypeClass = \"blue\";\r\n  let alertIcon = <InfoIcon className=\"text-blue-500\" />;\r\n\r\n  switch (type) {\r\n    case \"success\":\r\n      alertTypeClass = \"green\";\r\n      alertIcon = <CheckCircleIcon className=\"text-green-500\" />;\r\n      break;\r\n    case \"warning\":\r\n      alertTypeClass = \"yellow\";\r\n      alertIcon = <WarningIcon className=\"text-yellow-500\" />;\r\n      break;\r\n    case \"info\":\r\n      alertTypeClass = \"teal\";\r\n      alertIcon = <InfoIcon className=\"text-teal-500\" />;\r\n      break;\r\n    case \"error\":\r\n      alertTypeClass = \"red\";\r\n      alertIcon = <ErrorIcon className=\"text-red-500\" />;\r\n      break;\r\n    default:\r\n      alertTypeClass = \"blue\";\r\n      alertIcon = <InfoIcon className=\"text-blue-500\" />;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`w-full bg-${alertTypeClass}-100 border-t-4 border-${alertTypeClass}-500 rounded-b text-${alertTypeClass}-900 px-4 py-3 shadow-md mb-6`}\r\n      role=\"alert\"\r\n    >\r\n      <div className=\"flex items-center\">\r\n        <div className=\"pr-2\">{alertIcon}</div>\r\n        <div>\r\n          <p className=\"font-bold\">{heading}</p>\r\n          {!!description && <p className=\"text-sm\">{description}</p>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","import axios from \"utils/axiosInstance.util\";\r\n\r\nexport default async (info, token) => {\r\n  let url = `/api/${process.env.REACT_APP_API_VERSION}/auth/reset-password`;\r\n\r\n  let { data } = await axios.post(url, info, {\r\n    headers: {\r\n      \"x-reset-password-token\": token,\r\n    },\r\n  });\r\n\r\n  return data;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport history from \"../../history\";\r\n\r\nimport resetPasswordService from \"services/api/auth/resetPassword.service\";\r\n\r\nimport PrimaryButton from \"elements/PrimaryButton\";\r\nimport Alert from \"elements/Alert\";\r\n\r\nconst ResetPassword = () => {\r\n  const [formData, setFormData] = useState({\r\n    password: \"\",\r\n    passwordConfirm: \"\",\r\n  });\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(false);\r\n  const [isLoading, setisLoading] = useState(false);\r\n\r\n  const handleChange = ({ target }) => {\r\n    let { name, value } = target;\r\n\r\n    setFormData((prevState) => ({ ...prevState, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setisLoading(true);\r\n      setSuccess(null);\r\n      setError(null);\r\n\r\n      let token = \"\";\r\n\r\n      if (history.location.search) {\r\n        let s = history.location.search.replace(\"?\", \"\");\r\n\r\n        s = s.split(\"=\");\r\n        let i = s.indexOf(\"token\");\r\n\r\n        token = s[i + 1];\r\n      }\r\n\r\n      await resetPasswordService(formData, token);\r\n\r\n      setSuccess({\r\n        message: \"Your password reset is successful\",\r\n      });\r\n      setFormData({ password: \"\", passwordConfirm: \"\" });\r\n    } catch (err) {\r\n      let error = \"Something went wrong\";\r\n\r\n      if (err.response) {\r\n        error = err.response.data;\r\n      } else {\r\n        error.message = err.message ? err.message : err;\r\n      }\r\n\r\n      setError(error);\r\n    } finally {\r\n      setisLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"ResetPassword w-full h-screen flex flex-col justify-center items-center bg-gray-300\">\r\n      <img\r\n        className=\"w-16\"\r\n        src=\"/assets/images/botsite-logo.svg\"\r\n        alt=\"Botsite Logo\"\r\n      />\r\n      <h2 className=\"text-4xl text-gray-700\">Reset Password</h2>\r\n      <form\r\n        className=\"w-independent-form bg-gray-300 rounded px-4 py-4 pt-8\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        {!!error && <Alert type=\"error\" heading={error.message} />}\r\n        {!!success ? (\r\n          <Alert type=\"success\" heading={success.message} />\r\n        ) : (\r\n          <>\r\n            <div className=\"pb-4\">\r\n              <label\r\n                htmlFor=\"password\"\r\n                className=\"text-sm block text-gray-500 pb-2\"\r\n              >\r\n                New Password\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                id=\"password\"\r\n                className=\"shadow appearance-none border rounded w-full py-4 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline border-gray-300 \"\r\n                placeholder=\"Enter your new password\"\r\n                value={formData.password}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"pb-4\">\r\n              <label\r\n                htmlFor=\"passwordConfirm\"\r\n                className=\"text-sm block text-gray-500 pb-2\"\r\n              >\r\n                Confirm Password\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                name=\"passwordConfirm\"\r\n                id=\"passwordConfirm\"\r\n                className=\"shadow appearance-none border rounded w-full py-4 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline border-gray-300 \"\r\n                placeholder=\"Confirm your password\"\r\n                value={formData.passwordConfirm}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              {isLoading ? (\r\n                <PrimaryButton\r\n                  className=\"w-full bg-primary-1\"\r\n                  type=\"button\"\r\n                  disabled\r\n                >\r\n                  <Loader\r\n                    className=\"flex items-center justify-center\"\r\n                    type=\"ThreeDots\"\r\n                    color=\"#FFFFFF\"\r\n                    secondaryColor=\"#FFFFFF\"\r\n                    height={25}\r\n                    width={40}\r\n                    timeout={0}\r\n                  />\r\n                </PrimaryButton>\r\n              ) : (\r\n                <PrimaryButton className=\"w-full bg-primary-2\" type=\"submit\">\r\n                  Reset Password\r\n                </PrimaryButton>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n      </form>\r\n      <div>\r\n        <p className=\"py-2 pt-6 text-gray-600\">\r\n          <Link to=\"/login\" className=\"text-blue-400\">\r\n            Back To Login\r\n          </Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;\r\n","import ResetPassword from \"./ResetPassword\";\r\n\r\nexport default ResetPassword;\r\n"],"sourceRoot":""}