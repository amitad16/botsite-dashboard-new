{"version":3,"sources":["utils/project.util.js","services/api/project/getProjectDetails.service.js","actions/project/setCurrentProject.js","services/api/project/getProjects.service.js","elements/PageBackground/ProjectPageBackground.js","elements/ProjectsList/ProjectsListItem.js","elements/ProjectsList/AddProject.js","elements/ProjectsList/index.js","elements/ProjectsList/ProjectsList.js","containers/ProjectsPage/ProjectsPage.js","actions/project/getProjects.js","containers/ProjectsPage/index.js"],"names":["setCurrentProjectToLocalStorage","project","localStorage","setItem","JSON","stringify","removeCurrentProjectFromLocalStorage","removeItem","getCurrentProjectFromLocalStorage","getItem","parse","projectId","a","token","getUserFromLocalStorage","url","process","axios","get","headers","Authorization","data","setCurrentProject","dispatch","type","SET_CURRENT_PROJECT","TRIGGER","REQUEST","getProjectDetailsService","res","SUCCESS","payload","error","response","message","FAILURE","FULFIL","unsetCurrentProject","UNSET_CURRENT_PROJECT","ProjectPageBackground","className","style","height","position","width","left","top","backgroundColor","bottom","right","background","ProjectsListItem","id","name","role","createdAt","to","AddProject","fontSize","ProjectsList","projects","map","v","key","_id","id_project","moment","format","mapDispatchToProps","getProjects","GET_PROJECTS","getProjectsService","connect","state","isLoading","useEffect","ProjectsPage"],"mappings":"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","file":"static/js/11.b4b05937.chunk.js","sourcesContent":["export const setCurrentProjectToLocalStorage = (project) => {\r\n  localStorage.setItem(\"currentProject\", JSON.stringify(project));\r\n};\r\n\r\nexport const removeCurrentProjectFromLocalStorage = () => {\r\n  localStorage.removeItem(\"currentProject\");\r\n};\r\n\r\nexport const getCurrentProjectFromLocalStorage = () => {\r\n  let project = localStorage.getItem(\"currentProject\");\r\n\r\n  if (!project) return null;\r\n\r\n  return JSON.parse(project);\r\n};\r\n","import axios from \"utils/axiosInstance.util\";\r\nimport { getUserFromLocalStorage } from \"utils/auth.util\";\r\n\r\nexport default async (projectId) => {\r\n  let token = getUserFromLocalStorage();\r\n\r\n  let url = `/api/${process.env.REACT_APP_API_VERSION}/project/${projectId}/details`;\r\n\r\n  let { data } = await axios.get(url, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n\r\n  return data;\r\n};\r\n","import { SET_CURRENT_PROJECT, UNSET_CURRENT_PROJECT } from \"./types\";\r\n\r\n// Service\r\nimport getProjectDetailsService from \"services/api/project/getProjectDetails.service\";\r\n\r\nimport {\r\n  setCurrentProjectToLocalStorage,\r\n  removeCurrentProjectFromLocalStorage,\r\n} from \"utils/project.util\";\r\n\r\nexport const setCurrentProject = (project) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: SET_CURRENT_PROJECT.TRIGGER });\r\n\r\n    dispatch({ type: SET_CURRENT_PROJECT.REQUEST });\r\n\r\n    if (typeof project === \"string\") {\r\n      let res = await getProjectDetailsService(project);\r\n      setCurrentProjectToLocalStorage(res);\r\n\r\n      dispatch({\r\n        type: SET_CURRENT_PROJECT.SUCCESS,\r\n        payload: res,\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: SET_CURRENT_PROJECT.SUCCESS,\r\n        payload: project,\r\n      });\r\n    }\r\n  } catch (err) {\r\n    let error = {};\r\n\r\n    if (err.response) {\r\n      error = err.response.data;\r\n    } else {\r\n      error.message = err.message ? err.message : err;\r\n    }\r\n    dispatch({\r\n      type: SET_CURRENT_PROJECT.FAILURE,\r\n      payload: error,\r\n    });\r\n  } finally {\r\n    dispatch({ type: SET_CURRENT_PROJECT.FULFIL });\r\n  }\r\n};\r\n\r\nexport const unsetCurrentProject = () => (dispatch) => {\r\n  dispatch({ type: UNSET_CURRENT_PROJECT });\r\n  removeCurrentProjectFromLocalStorage();\r\n};\r\n","import axios from \"utils/axiosInstance.util\";\r\nimport { getUserFromLocalStorage } from \"utils/auth.util\";\r\n\r\nexport default async () => {\r\n  let token = getUserFromLocalStorage();\r\n\r\n  let url = `/api/${process.env.REACT_APP_API_VERSION}/project/user/all`;\r\n\r\n  let { data } = await axios.get(url, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n\r\n  return data;\r\n};\r\n","import React from \"react\";\r\n\r\nimport \"./index.css\";\r\n\r\nconst ProjectPageBackground = () => {\r\n  return (\r\n    <div className=\"ProjectPageBackground\">\r\n      <div className=\"ProjectPageBackground--container\">\r\n        <span\r\n          style={{\r\n            height: \"64px\",\r\n            position: \"absolute\",\r\n            width: \"100%\",\r\n            left: \"0%\",\r\n            top: \"0px\",\r\n            backgroundColor: \"rgba(66, 71, 112, 0.1)\",\r\n          }}\r\n        ></span>\r\n        <span\r\n          style={{\r\n            height: \"64px\",\r\n            position: \"absolute\",\r\n            width: \"40%\",\r\n            bottom: \"0px\",\r\n            right: \"12%\",\r\n            background: \"rgba(255, 255, 255, 0.45)\",\r\n          }}\r\n        ></span>\r\n        <span\r\n          style={{\r\n            height: \"64px\",\r\n            position: \"absolute\",\r\n            width: \"35%\",\r\n            bottom: \"-64px\",\r\n            right: \"6%\",\r\n            background: \"rgba(50, 50, 93, 0.05)\",\r\n          }}\r\n        ></span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProjectPageBackground;\r\n","import React from \"react\";\r\nimport EventIcon from \"@material-ui/icons/Event\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst ProjectsListItem = ({ id, name, role, createdAt }) => {\r\n  return (\r\n    <Link to={`/project/${id}/home`}>\r\n      <div className=\"ProjectListItem max-w-sm bg-white rounded overflow-hidden shadow-lg cursor-pointer\">\r\n        <div className=\"px-6 py-4 h-40\">\r\n          <div className=\"font-semibold text-xl mb-2 text-gray-700\">{name}</div>\r\n          <p className=\"text-gray-500 text-base\">{id}</p>\r\n          <p className=\"text-gray-500 font-medium text-base\">{role}</p>\r\n        </div>\r\n        <div className=\"px-4 py-2 pb-2 border-t border-gray-300\">\r\n          <EventIcon className=\"text-gray-500 text-xs\" />\r\n          <span className=\"ml-2 text-gray-500 text-sm\">{createdAt}</span>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default ProjectsListItem;\r\n","import React from \"react\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst AddProject = () => {\r\n  return (\r\n    <Link to=\"/create-new-project\">\r\n      <div className=\"AddProject max-w-sm bg-white rounded overflow-hidden shadow-lg cursor-pointer\">\r\n        <div className=\"px-6 py-4 h-24 flex items-center justify-center\">\r\n          <AddIcon fontSize=\"large\" className=\"text-primary-2\" />\r\n        </div>\r\n        <div className=\"py-2 pb-16 flex justify-center\">\r\n          <span className=\"ml-2 text-primary-2 text-2xl\">Add Project</span>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default AddProject;\r\n","import ProjectsList from \"./ProjectsList\";\r\n\r\nexport default ProjectsList;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\n\r\nimport ProjectsListItem from \"./ProjectsListItem\";\r\nimport AddProject from \"./AddProject\";\r\n\r\nconst ProjectsList = ({ projects }) => {\r\n  return (\r\n    <div className=\"ProjectsList\">\r\n      <div className=\"flex flex-wrap mb-4\">\r\n        <div className=\"w-1/3 mb-8 px-4\">\r\n          <AddProject />\r\n        </div>\r\n\r\n        {!!projects &&\r\n          projects.map((v) => (\r\n            <div key={v._id} className=\"w-1/3 mb-8 px-4\">\r\n              <ProjectsListItem\r\n                id={v.id_project._id}\r\n                role={v.role}\r\n                name={v.id_project.name}\r\n                createdAt={moment(v.id_project.createdAt).format(\"LL\")}\r\n              />\r\n            </div>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProjectsList;\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { getProjects } from \"actions/project/getProjects\";\r\nimport { unsetCurrentProject } from \"actions/project/setCurrentProject\";\r\n\r\nimport ProjectPageBackground from \"elements/PageBackground/ProjectPageBackground\";\r\nimport ProjectsList from \"elements/ProjectsList\";\r\n\r\nconst ProjectsPage = ({\r\n  getProjects,\r\n  unsetCurrentProject,\r\n  isLoading,\r\n  projects,\r\n  error,\r\n}) => {\r\n  useEffect(() => {\r\n    unsetCurrentProject();\r\n    getProjects();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"ProjectsPage\">\r\n      <ProjectPageBackground />\r\n      <div className=\"container mx-auto max-w-screen-lg\">\r\n        {isLoading ? (\r\n          \"Loading...\"\r\n        ) : error ? (\r\n          \"Cannot get projects\"\r\n        ) : (\r\n          <ProjectsList projects={projects} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoading: state.project.getProjects.isLoading,\r\n  projects: state.project.getProjects.data\r\n    ? state.project.getProjects.data.projects\r\n    : null,\r\n  error: state.project.getProjects.error,\r\n});\r\n\r\nconst mapDispatchToProps = { getProjects, unsetCurrentProject };\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProjectsPage);\r\n","import { GET_PROJECTS } from \"./types\";\r\n\r\n// Service\r\nimport getProjectsService from \"services/api/project/getProjects.service\";\r\n\r\nexport const getProjects = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: GET_PROJECTS.TRIGGER });\r\n\r\n    dispatch({ type: GET_PROJECTS.REQUEST });\r\n\r\n    let res = await getProjectsService();\r\n\r\n    dispatch({\r\n      type: GET_PROJECTS.SUCCESS,\r\n      payload: res,\r\n    });\r\n  } catch (err) {\r\n    let error = {};\r\n\r\n    if (err.response) {\r\n      error = err.response.data;\r\n    } else {\r\n      error.message = err.message ? err.message : err;\r\n    }\r\n    dispatch({\r\n      type: GET_PROJECTS.FAILURE,\r\n      payload: error,\r\n    });\r\n  } finally {\r\n    dispatch({ type: GET_PROJECTS.FULFIL });\r\n  }\r\n};\r\n","import ProjectsPage from \"./ProjectsPage\";\r\n\r\nexport default ProjectsPage;\r\n"],"sourceRoot":""}