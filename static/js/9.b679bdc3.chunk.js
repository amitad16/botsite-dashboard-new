(this["webpackJsonpbotsite-dashboard-2"]=this["webpackJsonpbotsite-dashboard-2"]||[]).push([[9],{144:function(e,t,a){"use strict";var r=a(154),n=a(0),s=a.n(n);t.a=function(e){var t=e.className,a=e.children,n=Object(r.a)(e,["className","children"]);return s.a.createElement("button",Object.assign({className:"hover:bg-primary text-white py-4 px-4 rounded focus:outline-none focus:shadow-outline uppercase ".concat(t||"")},n),a)}},145:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return s}));var r=function(e){localStorage.setItem("currentProject",JSON.stringify(e))},n=function(){localStorage.removeItem("currentProject")},s=function(){var e=localStorage.getItem("currentProject");return e?JSON.parse(e):null}},146:function(e,t,a){"use strict";var r=a(0),n=a.n(r),s=a(12),c=Object(s.a)((function(){return a.e(21).then(a.t.bind(null,157,7))})),o=Object(s.a)((function(){return a.e(19).then(a.t.bind(null,158,7))})),i=Object(s.a)((function(){return a.e(18).then(a.t.bind(null,159,7))})),u=Object(s.a)((function(){return a.e(20).then(a.t.bind(null,160,7))}));t.a=function(e){var t=e.type,a=e.heading,r=e.description,s="blue",l=n.a.createElement(u,{className:"text-blue-500"});switch(t){case"success":s="green",l=n.a.createElement(i,{className:"text-green-500"});break;case"warning":s="yellow",l=n.a.createElement(c,{className:"text-yellow-500"});break;case"info":s="teal",l=n.a.createElement(u,{className:"text-teal-500"});break;case"error":s="red",l=n.a.createElement(o,{className:"text-red-500"});break;default:s="blue",l=n.a.createElement(u,{className:"text-blue-500"})}return n.a.createElement("div",{className:"w-full bg-".concat(s,"-100 border-t-4 border-").concat(s,"-500 rounded-b text-").concat(s,"-900 px-4 py-3 shadow-md mb-6"),role:"alert"},n.a.createElement("div",{className:"flex items-center"},n.a.createElement("div",{className:"pr-2"},l),n.a.createElement("div",null,n.a.createElement("p",{className:"font-bold"},a),!!r&&n.a.createElement("p",{className:"text-sm"},r))))}},147:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return m}));var r=a(8),n=a.n(r),s=a(15),c=a(3),o=a(26),i=a(6),u=function(){var e=Object(s.a)(n.a.mark((function e(t){var a,r,s,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(i.c)(),r="/api/".concat("v1","/project/").concat(t,"/details"),e.next=4,o.a.get(r,{headers:{Authorization:"Bearer ".concat(a)}});case 4:return s=e.sent,c=s.data,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=a(145),d=function(e){return function(){var t=Object(s.a)(n.a.mark((function t(a){var r,s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a({type:c.i.TRIGGER}),a({type:c.i.REQUEST}),"string"!==typeof e){t.next=11;break}return t.next=6,u(e);case 6:r=t.sent,Object(l.c)(r),a({type:c.i.SUCCESS,payload:r}),t.next=12;break;case 11:a({type:c.i.SUCCESS,payload:e});case 12:t.next=19;break;case 14:t.prev=14,t.t0=t.catch(0),s={},t.t0.response?s=t.t0.response.data:s.message=t.t0.message?t.t0.message:t.t0,a({type:c.i.FAILURE,payload:s});case 19:return t.prev=19,a({type:c.i.FULFIL}),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[0,14,19,22]])})));return function(e){return t.apply(this,arguments)}}()},m=function(){return function(e){e({type:c.j}),Object(l.b)()}}},149:function(e,t,a){"use strict";var r=a(0),n=a.n(r),s=a(21),c=a(4),o=(a(163),a(147)),i=a(145),u={setCurrentProject:o.a};t.a=Object(s.connect)(null,u)((function(e){var t=e.children,a=e.setCurrentProject,s=Object(c.h)().projectId;return Object(r.useEffect)((function(){var e=Object(i.a)();e&&e._id===s?a(e):a(s)}),[]),n.a.createElement("div",{className:"py-12 px-4 min-h-screen bg-secondary-1"},t)}))},155:function(e,t,a){"use strict";var r=a(0),n=a.n(r),s=a(153);t.a=function(e){var t=e.name,a=e.label,r=e.type,c=e.placeholder,o=e.disabled,i=e.hidden;return n.a.createElement("div",{className:"pb-4"},!!a&&n.a.createElement("label",{htmlFor:t,className:"text-sm block text-gray-500 pb-2"},a),n.a.createElement(s.b,{className:"shadow appearance-none border rounded w-full py-4 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline border-gray-300 ",type:r,name:t,placeholder:c,disabled:o,hidden:i}),n.a.createElement(s.a,{className:"text-red-500 text-sm",name:t,component:"div"}))}},156:function(e,t,a){"use strict";var r=a(0),n=a.n(r),s=a(151),c=a.n(s),o=a(144);t.a=function(e){var t=e.isSubmitting,a=e.isValid,r=e.btnText,s=e.btnColorClass,i=e.btnDisabledColorClass,u=e.btnWidthClass;return n.a.createElement("div",null,t?n.a.createElement(o.a,{className:"".concat(u||"w-full"," cursor-not-allowed ").concat(i||"bg-primary-1"),type:"button",disabled:t},n.a.createElement(c.a,{className:"flex items-center justify-center",type:"ThreeDots",color:"#FFFFFF",secondaryColor:"#FFFFFF",height:25,width:40,timeout:0})):n.a.createElement(o.a,{className:"".concat(u||"w-full"," ").concat(a?s||"bg-primary-2":"cursor-not-allowed ".concat(i||"bg-primary-1")),type:"submit",disabled:!a},r))}},237:function(e,t,a){"use strict";a.r(t);var r=a(37),n=a(0),s=a.n(n),c=a(4),o=a(149),i=a(44),u=a(45),l=a(30),d=a(47),m=a(46),p=a(21),b=a(153),f=a(169),h=a(155),v=a(156),w=a(146),y=a(8),E=a.n(y),g=a(15),j=a(3),P=a(26),x=a(6),O=function(){var e=Object(g.a)(E.a.mark((function e(t){var a,r,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(x.c)(),"/api/publisher/update/profile",e.next=4,P.a.patch("/api/publisher/update/profile",t,{headers:{Authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,n=r.data,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=a(5),C=Object(f.a)().shape({firstname:Object(f.c)().min(3,"Too Short!").max(50,"Too Long!").required("Required"),lastname:Object(f.c)().min(3,"Too Short!").max(50,"Too Long!").required("Required"),email:Object(f.c)().email("Invalid email").required("Required"),userId:Object(f.c)().min(24).max(24)}),N=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).handleSubmit=r.handleSubmit.bind(Object(l.a)(r)),r}return Object(u.a)(a,[{key:"handleSubmit",value:function(e,t){var a=t.setSubmitting;this.props.updateUserProfile(e,a)}},{key:"render",value:function(){var e=this.props.user,t=e.firstname,a=e.lastname,r=e.email,n=e.id;return s.a.createElement("div",{className:"UserProfileForm w-1/2 mx-auto p-4 shadow-md bg-white"},this.props.userProfile.error&&this.props.userProfile.error.message&&s.a.createElement(w.a,{type:"error",heading:this.props.userProfile.error.message}),this.props.userProfile.data&&this.props.userProfile.data.success&&s.a.createElement(w.a,{type:"success",heading:"Successfully updated your details"}),s.a.createElement(b.d,{initialValues:{firstname:t,lastname:a,email:r,userId:n},validationSchema:C,onSubmit:this.handleSubmit},(function(e){var t=e.isSubmitting,a=e.isValid;return s.a.createElement(b.c,null,s.a.createElement(h.a,{label:"First Name",name:"firstname",type:"text"}),s.a.createElement(h.a,{label:"Last Name",name:"lastname",type:"text"}),s.a.createElement(h.a,{label:"Email",name:"email",type:"email"}),s.a.createElement(h.a,{label:"User Id",name:"userId",type:"text",disabled:!0}),s.a.createElement(v.a,{isSubmitting:t,isValid:a,btnText:"Update Profile",btnColorClass:"bg-primary-2",btnWidthClass:"w-1/2"}))})))}}]),a}(n.PureComponent),F={updateUserProfile:function(e,t){return function(){var a=Object(g.a)(E.a.mark((function a(r){var n,s;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:j.m.TRIGGER}),r({type:j.m.REQUEST}),a.next=5,O(e);case 5:n=a.sent,r({type:j.m.SUCCESS,payload:n}),r({type:S.b.SUCCESS,payload:n}),Object(x.a)(n.data.accessToken),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(0),s={},a.t0.response?s=a.t0.response.data:s.message=a.t0.message?a.t0.message:a.t0,r({type:j.m.FAILURE,payload:s});case 16:return a.prev=16,r({type:j.m.FULFIL}),t(!1),a.finish(16);case 20:case"end":return a.stop()}}),a,null,[[0,11,16,20]])})));return function(e){return a.apply(this,arguments)}}()}},k=Object(p.connect)((function(e){return{user:e.user.data&&e.user.data.data,userProfile:e.profile.updateUserProfile}}),F)(N),U=function(){var e=Object(g.a)(E.a.mark((function e(t){var a,r,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(x.c)(),"/api/publisher/update/password",e.next=4,P.a.patch("/api/publisher/update/password",t,{headers:{Authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,n=r.data,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=Object(f.a)().shape({currentPassword:Object(f.c)().required("Required"),newPassword:Object(f.c)().min(6,"Too Short!").max(20,"Too Long!").required("Required"),confirmPassword:Object(f.c)().oneOf([Object(f.b)("newPassword"),null],"Passwords must match")}),R=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).handleSubmit=r.handleSubmit.bind(Object(l.a)(r)),r}return Object(u.a)(a,[{key:"handleSubmit",value:function(e,t){var a=t.setSubmitting,r=t.resetForm;this.props.updateUserPassword(e,{setSubmitting:a,resetForm:function(){return r({currentPassword:"",newPassword:"",confirmPassword:""})}})}},{key:"render",value:function(){return s.a.createElement("div",{className:"UserChangePasswordForm w-1/2 mx-auto p-4 shadow-md bg-white"},this.props.userPassword.error&&this.props.userPassword.error.message&&s.a.createElement(w.a,{type:"error",heading:this.props.userPassword.error.message}),this.props.userPassword.data&&this.props.userPassword.data.success&&s.a.createElement(w.a,{type:"success",heading:"Successfully updated your details"}),s.a.createElement(b.d,{initialValues:{currentPassword:"",newPassword:"",confirmPassword:""},validationSchema:I,onSubmit:this.handleSubmit},(function(e){var t=e.isSubmitting,a=e.isValid;return s.a.createElement(b.c,null,s.a.createElement(h.a,{label:"Current Password",name:"currentPassword",type:"password"}),s.a.createElement(h.a,{label:"New Password",name:"newPassword",type:"password"}),s.a.createElement(h.a,{label:"Confirm Password",name:"confirmPassword",type:"password"}),s.a.createElement(v.a,{isSubmitting:t,isValid:a,btnText:"Change Password",btnColorClass:"bg-primary-2",btnWidthClass:"w-1/2"}))})))}}]),a}(n.PureComponent),T={updateUserPassword:function(e,t){var a=t.setSubmitting,r=t.resetForm;return function(){var t=Object(g.a)(E.a.mark((function t(n){var s,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:j.l.TRIGGER}),n({type:j.l.REQUEST}),t.next=5,U(e);case 5:s=t.sent,n({type:j.l.SUCCESS,payload:s}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),c={},t.t0.response?c=t.t0.response.data:c.message=t.t0.message?t.t0.message:t.t0,n({type:j.l.FAILURE,payload:c});case 14:return t.prev=14,n({type:j.l.FULFIL}),a(!1),r(),t.finish(14);case 19:case"end":return t.stop()}}),t,null,[[0,9,14,19]])})));return function(e){return t.apply(this,arguments)}}()}},L=Object(p.connect)((function(e){return{user:e.user.data&&e.user.data.data,userPassword:e.profile.updateUserPassword}}),T)(R),q=function(e){var t=e.id,a=e.active,r=e.value,n=e.onClick;return s.a.createElement("li",{className:"tab-item cursor-pointer ".concat(a?"-mb-px":""," mr-1"),id:t,onClick:function(){n(t)}},s.a.createElement("div",{className:"bg-white inline-block py-2 px-4 font-semibold ".concat(a?"border-l border-t border-r rounded-t text-blue-700":"")},r))},V=function(e){var t=e.children;return s.a.createElement("ul",{className:"flex border-b"},t)},A=function(){var e=Object(n.useState)("userProfile"),t=Object(r.a)(e,2),a=t[0],i=t[1];function u(e){i(e)}var l=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(V,null,s.a.createElement(q,{id:"userProfile",active:"userProfile"===a,value:"User Profile",onClick:u}),s.a.createElement(q,{id:"changePassword",active:"changePassword"===a,value:"Change Password",onClick:u})),"userProfile"===a&&s.a.createElement(k,null),"changePassword"===a&&s.a.createElement(L,null))};return Object(c.h)().projectId?s.a.createElement(o.a,null,l()):l()};t.default=A}}]);
//# sourceMappingURL=9.b679bdc3.chunk.js.map