(this["webpackJsonpbotsite-dashboard-2"]=this["webpackJsonpbotsite-dashboard-2"]||[]).push([[8],{144:function(e,t,a){"use strict";var r=a(154),n=a(0),c=a.n(n);t.a=function(e){var t=e.className,a=e.children,n=Object(r.a)(e,["className","children"]);return c.a.createElement("button",Object.assign({className:"hover:bg-primary text-white py-4 px-4 rounded focus:outline-none focus:shadow-outline uppercase ".concat(t||"")},n),a)}},145:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c}));var r=function(e){localStorage.setItem("currentProject",JSON.stringify(e))},n=function(){localStorage.removeItem("currentProject")},c=function(){var e=localStorage.getItem("currentProject");return e?JSON.parse(e):null}},146:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(12),s=Object(c.a)((function(){return a.e(21).then(a.t.bind(null,157,7))})),o=Object(c.a)((function(){return a.e(19).then(a.t.bind(null,158,7))})),i=Object(c.a)((function(){return a.e(18).then(a.t.bind(null,159,7))})),l=Object(c.a)((function(){return a.e(20).then(a.t.bind(null,160,7))}));t.a=function(e){var t=e.type,a=e.heading,r=e.description,c="blue",u=n.a.createElement(l,{className:"text-blue-500"});switch(t){case"success":c="green",u=n.a.createElement(i,{className:"text-green-500"});break;case"warning":c="yellow",u=n.a.createElement(s,{className:"text-yellow-500"});break;case"info":c="teal",u=n.a.createElement(l,{className:"text-teal-500"});break;case"error":c="red",u=n.a.createElement(o,{className:"text-red-500"});break;default:c="blue",u=n.a.createElement(l,{className:"text-blue-500"})}return n.a.createElement("div",{className:"w-full bg-".concat(c,"-100 border-t-4 border-").concat(c,"-500 rounded-b text-").concat(c,"-900 px-4 py-3 shadow-md mb-6"),role:"alert"},n.a.createElement("div",{className:"flex items-center"},n.a.createElement("div",{className:"pr-2"},u),n.a.createElement("div",null,n.a.createElement("p",{className:"font-bold"},a),!!r&&n.a.createElement("p",{className:"text-sm"},r))))}},147:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return m}));var r=a(8),n=a.n(r),c=a(15),s=a(3),o=a(26),i=a(6),l=function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,c,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(i.c)(),r="/api/".concat("v1","/project/").concat(t,"/details"),e.next=4,o.a.get(r,{headers:{Authorization:"Bearer ".concat(a)}});case 4:return c=e.sent,s=c.data,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=a(145),d=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a){var r,c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a({type:s.i.TRIGGER}),a({type:s.i.REQUEST}),"string"!==typeof e){t.next=11;break}return t.next=6,l(e);case 6:r=t.sent,Object(u.c)(r),a({type:s.i.SUCCESS,payload:r}),t.next=12;break;case 11:a({type:s.i.SUCCESS,payload:e});case 12:t.next=19;break;case 14:t.prev=14,t.t0=t.catch(0),c={},t.t0.response?c=t.t0.response.data:c.message=t.t0.message?t.t0.message:t.t0,a({type:s.i.FAILURE,payload:c});case 19:return t.prev=19,a({type:s.i.FULFIL}),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[0,14,19,22]])})));return function(e){return t.apply(this,arguments)}}()},m=function(){return function(e){e({type:s.j}),Object(u.b)()}}},149:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(21),s=a(4),o=(a(163),a(147)),i=a(145),l={setCurrentProject:o.a};t.a=Object(c.connect)(null,l)((function(e){var t=e.children,a=e.setCurrentProject,c=Object(s.h)().projectId;return Object(r.useEffect)((function(){var e=Object(i.a)();e&&e._id===c?a(e):a(c)}),[]),n.a.createElement("div",{className:"py-12 px-4 min-h-screen bg-secondary-1"},t)}))},155:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(153);t.a=function(e){var t=e.name,a=e.label,r=e.type,s=e.placeholder,o=e.disabled,i=e.hidden;return n.a.createElement("div",{className:"pb-4"},!!a&&n.a.createElement("label",{htmlFor:t,className:"text-sm block text-gray-500 pb-2"},a),n.a.createElement(c.b,{className:"shadow appearance-none border rounded w-full py-4 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline border-gray-300 ",type:r,name:t,placeholder:s,disabled:o,hidden:i}),n.a.createElement(c.a,{className:"text-red-500 text-sm",name:t,component:"div"}))}},156:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(151),s=a.n(c),o=a(144);t.a=function(e){var t=e.isSubmitting,a=e.isValid,r=e.btnText,c=e.btnColorClass,i=e.btnDisabledColorClass,l=e.btnWidthClass;return n.a.createElement("div",null,t?n.a.createElement(o.a,{className:"".concat(l||"w-full"," cursor-not-allowed ").concat(i||"bg-primary-1"),type:"button",disabled:t},n.a.createElement(s.a,{className:"flex items-center justify-center",type:"ThreeDots",color:"#FFFFFF",secondaryColor:"#FFFFFF",height:25,width:40,timeout:0})):n.a.createElement(o.a,{className:"".concat(l||"w-full"," ").concat(a?c||"bg-primary-2":"cursor-not-allowed ".concat(i||"bg-primary-1")),type:"submit",disabled:!a},r))}},190:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a(44),c=a(45),s=a(30),o=a(47),i=a(46),l=a(0),u=a.n(l),d=a(21),m=a(153),p=a(169),b=a(155),h=a(156),f=a(149).a,j=a(8),y=a.n(j),v=a(15),E=a(3),g=a(26),x=a(6),w=function(){var e=Object(v.a)(y.a.mark((function e(t,a){var r,n,c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(x.c)(),n="/api/".concat("v1","/project/").concat(t,"/add/teacher"),e.next=4,g.a.post(n,a,{headers:{Authorization:"Bearer ".concat(r)}});case 4:return c=e.sent,s=c.data,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),O=a(27),S=a(146),N=Object(p.a)().shape({firstname:Object(p.c)().min(3,"Too Short!").max(50,"Too Long!").required("Required"),lastname:Object(p.c)().min(3,"Too Short!").max(50,"Too Long!").required("Required"),email:Object(p.c)().email("Invalid email").required("Required"),password:Object(p.c)().min(6,"Too Short!").max(20,"Too Long!").required("Required"),subjects:Object(p.c)().required("Required"),role:Object(p.c)().oneOf(["teacher"]).required("Required")}),T=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handleSubmit=r.handleSubmit.bind(Object(s.a)(r)),r}return Object(c.a)(a,[{key:"handleSubmit",value:function(e,t){var a=t.setSubmitting,n=Object(r.a)({},e);n.subjects=n.subjects.split(",").map((function(e){return e.trim()})),this.props.addTeacher(this.props.projectId,n,{setSubmitting:a})}},{key:"render",value:function(){return u.a.createElement(f,null,u.a.createElement("div",{className:"AddTeacher w-1/2 mx-auto p-4 shadow-md bg-white"},this.props.addTeacherDetails.error&&this.props.addTeacherDetails.error.message&&u.a.createElement(S.a,{type:"error",heading:this.props.addTeacherDetails.error.message}),this.props.addTeacherDetails.data&&this.props.addTeacherDetails.data.success&&u.a.createElement(S.a,{type:"success",heading:"Successfully added teacher"}),u.a.createElement(m.d,{initialValues:{firstname:"",lastname:"",email:"",password:"",subjects:"",role:"teacher"},validationSchema:N,onSubmit:this.handleSubmit},(function(e){var t=e.isSubmitting,a=e.isValid;return u.a.createElement(m.c,null,u.a.createElement(b.a,{label:"First Name",name:"firstname",type:"text",placeholder:"John"}),u.a.createElement(b.a,{label:"Last Name",name:"lastname",type:"text",placeholder:"Wick"}),u.a.createElement(b.a,{label:"Email",name:"email",type:"email",placeholder:"john@wick.com"}),u.a.createElement(b.a,{label:"Password",name:"password",type:"password",placeholder:"Create teacher password"}),u.a.createElement(b.a,{label:"Subjects",name:"subjects",type:"text",placeholder:"Subject1, Subject 2..."}),u.a.createElement(b.a,{name:"role",type:"text",hidden:!0}),u.a.createElement(h.a,{isSubmitting:t,isValid:a,btnText:"Update Profile",btnColorClass:"bg-primary-2",btnWidthClass:"w-1/2"}))}))))}}]),a}(l.PureComponent),F={addTeacher:function(e,t,a){var r=a.setSubmitting;return function(){var a=Object(v.a)(y.a.mark((function a(n){var c,s;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:E.a.TRIGGER}),n({type:E.a.REQUEST}),a.next=5,w(e,t);case 5:c=a.sent,n({type:E.a.SUCCESS,payload:c}),O.a.push("/project/".concat(e,"/teachers")),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(0),s={},a.t0.response?s=a.t0.response.data:s.message=a.t0.message?a.t0.message:a.t0,n({type:E.a.FAILURE,payload:s});case 15:return a.prev=15,n({type:E.a.FULFIL}),r(!1),a.finish(15);case 19:case"end":return a.stop()}}),a,null,[[0,10,15,19]])})));return function(e){return a.apply(this,arguments)}}()}};t.default=Object(d.connect)((function(e){return{projectId:e.project.currentProject.data&&e.project.currentProject.data._id,addTeacherDetails:e.project.teachers.add}}),F)(T)}}]);
//# sourceMappingURL=8.ea858c60.chunk.js.map