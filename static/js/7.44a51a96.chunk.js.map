{"version":3,"sources":["elements/PrimaryButton.js","utils/project.util.js","elements/Alert.js","services/api/project/getProjectDetails.service.js","actions/project/setCurrentProject.js","containers/Dashboard/Dashboard.js","elements/CustomForm/CustomFormField.js","elements/CustomForm/CustomFormSubmitBtn.js","services/api/project/updateProjectDetails.service.js","containers/Dashboard/ProjectSettings/ProjectGeneralSetting.js","actions/project/updateProjectDetails.js"],"names":["PrimaryButton","className","children","props","setCurrentProjectToLocalStorage","project","localStorage","setItem","JSON","stringify","removeCurrentProjectFromLocalStorage","removeItem","getCurrentProjectFromLocalStorage","getItem","parse","WarningIcon","loadable","ErrorIcon","CheckCircleIcon","InfoIcon","Alert","type","heading","description","alertTypeClass","alertIcon","role","projectId","a","token","getUserFromLocalStorage","url","process","axios","get","headers","Authorization","data","setCurrentProject","dispatch","SET_CURRENT_PROJECT","TRIGGER","REQUEST","getProjectDetailsService","res","SUCCESS","payload","error","response","message","FAILURE","FULFIL","unsetCurrentProject","UNSET_CURRENT_PROJECT","mapDispatchToProps","connect","useParams","useEffect","currentProject","_id","CustomFormField","name","label","placeholder","disabled","hidden","htmlFor","component","CustomFormSubmitBtn","isSubmitting","isValid","btnText","btnColorClass","btnDisabledColorClass","btnWidthClass","color","secondaryColor","height","width","timeout","values","patch","ProjectGeneralSettingSchema","object","shape","string","min","max","required","ProjectGeneralSetting","handleSubmit","bind","setSubmitting","this","updateProjectDetails","Dashboard","id","updateDetails","success","initialValues","validationSchema","onSubmit","PureComponent","UPDATE_PROJECT_DETAILS","updateProjectDetailsService","resetProjectUpdationDetails","RESET_PROJECT_UPDATION_DETAILS","state","settings"],"mappings":"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","file":"static/js/7.44a51a96.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst PrimaryButton = ({ className, children, ...props }) => {\r\n  return (\r\n    <button\r\n      className={`hover:bg-primary text-white py-4 px-4 rounded focus:outline-none focus:shadow-outline uppercase ${\r\n        className ? className : \"\"\r\n      }`}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default PrimaryButton;\r\n","export const setCurrentProjectToLocalStorage = (project) => {\r\n  localStorage.setItem(\"currentProject\", JSON.stringify(project));\r\n};\r\n\r\nexport const removeCurrentProjectFromLocalStorage = () => {\r\n  localStorage.removeItem(\"currentProject\");\r\n};\r\n\r\nexport const getCurrentProjectFromLocalStorage = () => {\r\n  let project = localStorage.getItem(\"currentProject\");\r\n\r\n  if (!project) return null;\r\n\r\n  return JSON.parse(project);\r\n};\r\n","import React from \"react\";\r\nimport loadable from \"@loadable/component\";\r\n\r\nconst WarningIcon = loadable(() => import(\"@material-ui/icons/Warning\"));\r\nconst ErrorIcon = loadable(() => import(\"@material-ui/icons/Error\"));\r\nconst CheckCircleIcon = loadable(() =>\r\n  import(\"@material-ui/icons/CheckCircle\")\r\n);\r\nconst InfoIcon = loadable(() => import(\"@material-ui/icons/Info\"));\r\n\r\n// import WarningIcon from '@material-ui/icons/Warning';\r\n// import ErrorIcon from '@material-ui/icons/Error';\r\n// import CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\n// import InfoIcon from '@material-ui/icons/Info';\r\n\r\nconst Alert = ({ type, heading, description }) => {\r\n  let alertTypeClass = \"blue\";\r\n  let alertIcon = <InfoIcon className=\"text-blue-500\" />;\r\n\r\n  switch (type) {\r\n    case \"success\":\r\n      alertTypeClass = \"green\";\r\n      alertIcon = <CheckCircleIcon className=\"text-green-500\" />;\r\n      break;\r\n    case \"warning\":\r\n      alertTypeClass = \"yellow\";\r\n      alertIcon = <WarningIcon className=\"text-yellow-500\" />;\r\n      break;\r\n    case \"info\":\r\n      alertTypeClass = \"teal\";\r\n      alertIcon = <InfoIcon className=\"text-teal-500\" />;\r\n      break;\r\n    case \"error\":\r\n      alertTypeClass = \"red\";\r\n      alertIcon = <ErrorIcon className=\"text-red-500\" />;\r\n      break;\r\n    default:\r\n      alertTypeClass = \"blue\";\r\n      alertIcon = <InfoIcon className=\"text-blue-500\" />;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`w-full bg-${alertTypeClass}-100 border-t-4 border-${alertTypeClass}-500 rounded-b text-${alertTypeClass}-900 px-4 py-3 shadow-md mb-6`}\r\n      role=\"alert\"\r\n    >\r\n      <div className=\"flex items-center\">\r\n        <div className=\"pr-2\">{alertIcon}</div>\r\n        <div>\r\n          <p className=\"font-bold\">{heading}</p>\r\n          {!!description && <p className=\"text-sm\">{description}</p>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","import axios from \"utils/axiosInstance.util\";\r\nimport { getUserFromLocalStorage } from \"utils/auth.util\";\r\n\r\nexport default async (projectId) => {\r\n  let token = getUserFromLocalStorage();\r\n\r\n  let url = `/api/${process.env.REACT_APP_API_VERSION}/project/${projectId}/details`;\r\n\r\n  let { data } = await axios.get(url, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n\r\n  return data;\r\n};\r\n","import { SET_CURRENT_PROJECT, UNSET_CURRENT_PROJECT } from \"./types\";\r\n\r\n// Service\r\nimport getProjectDetailsService from \"services/api/project/getProjectDetails.service\";\r\n\r\nimport {\r\n  setCurrentProjectToLocalStorage,\r\n  removeCurrentProjectFromLocalStorage,\r\n} from \"utils/project.util\";\r\n\r\nexport const setCurrentProject = (project) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: SET_CURRENT_PROJECT.TRIGGER });\r\n\r\n    dispatch({ type: SET_CURRENT_PROJECT.REQUEST });\r\n\r\n    if (typeof project === \"string\") {\r\n      let res = await getProjectDetailsService(project);\r\n      setCurrentProjectToLocalStorage(res);\r\n\r\n      dispatch({\r\n        type: SET_CURRENT_PROJECT.SUCCESS,\r\n        payload: res,\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: SET_CURRENT_PROJECT.SUCCESS,\r\n        payload: project,\r\n      });\r\n    }\r\n  } catch (err) {\r\n    let error = {};\r\n\r\n    if (err.response) {\r\n      error = err.response.data;\r\n    } else {\r\n      error.message = err.message ? err.message : err;\r\n    }\r\n    dispatch({\r\n      type: SET_CURRENT_PROJECT.FAILURE,\r\n      payload: error,\r\n    });\r\n  } finally {\r\n    dispatch({ type: SET_CURRENT_PROJECT.FULFIL });\r\n  }\r\n};\r\n\r\nexport const unsetCurrentProject = () => (dispatch) => {\r\n  dispatch({ type: UNSET_CURRENT_PROJECT });\r\n  removeCurrentProjectFromLocalStorage();\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport \"react-pro-sidebar/dist/css/styles.css\";\r\n\r\nimport { setCurrentProject } from \"actions/project/setCurrentProject\";\r\n\r\n// import SideNavigation from \"elements/SideNavigation\";\r\n// import Navigation from \"elements/Navigation\";\r\nimport { getCurrentProjectFromLocalStorage } from \"utils/project.util\";\r\n\r\nconst Dashboard = ({ children, setCurrentProject }) => {\r\n  let { projectId } = useParams();\r\n\r\n  useEffect(() => {\r\n    let currentProject = getCurrentProjectFromLocalStorage();\r\n\r\n    if (currentProject && currentProject._id === projectId) {\r\n      setCurrentProject(currentProject);\r\n    } else setCurrentProject(projectId);\r\n  }, []);\r\n\r\n  return (\r\n    // <div className=\"flex flex-row w-full h-screen\">\r\n    //   <SideNavigation />\r\n    //   <div className=\"flex flex-grow flex-col overflow-y-auto bg-secondary-1\">\r\n    //     <Navigation />\r\n    //     <div className=\"w-full px-4 py-12 mx-auto antialiased font-body\">\r\n    <div className=\"py-12 px-4 min-h-screen bg-secondary-1\">{children}</div>\r\n    //     </div>\r\n    //   </div>\r\n    // </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = { setCurrentProject };\r\n\r\nexport default connect(null, mapDispatchToProps)(Dashboard);\r\n","import React from \"react\";\r\nimport { Field, ErrorMessage } from \"formik\";\r\n\r\nconst CustomFormField = ({\r\n  name,\r\n  label,\r\n  type,\r\n  placeholder,\r\n  disabled,\r\n  hidden,\r\n}) => {\r\n  return (\r\n    <div className=\"pb-4\">\r\n      {!!label && (\r\n        <label htmlFor={name} className=\"text-sm block text-gray-500 pb-2\">\r\n          {label}\r\n        </label>\r\n      )}\r\n      <Field\r\n        className=\"shadow appearance-none border rounded w-full py-4 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline border-gray-300 \"\r\n        type={type}\r\n        name={name}\r\n        placeholder={placeholder}\r\n        disabled={disabled}\r\n        hidden={hidden}\r\n      />\r\n      <ErrorMessage\r\n        className=\"text-red-500 text-sm\"\r\n        name={name}\r\n        component=\"div\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomFormField;\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport PrimaryButton from \"elements/PrimaryButton\";\r\n\r\nconst CustomFormSubmitBtn = ({\r\n  isSubmitting,\r\n  isValid,\r\n  btnText,\r\n  btnColorClass,\r\n  btnDisabledColorClass,\r\n  btnWidthClass,\r\n}) => {\r\n  return (\r\n    <div>\r\n      {isSubmitting ? (\r\n        <PrimaryButton\r\n          className={`${btnWidthClass || \"w-full\"} cursor-not-allowed ${\r\n            btnDisabledColorClass || \"bg-primary-1\"\r\n          }`}\r\n          type=\"button\"\r\n          disabled={isSubmitting}\r\n        >\r\n          <Loader\r\n            className=\"flex items-center justify-center\"\r\n            type=\"ThreeDots\"\r\n            color=\"#FFFFFF\"\r\n            secondaryColor=\"#FFFFFF\"\r\n            height={25}\r\n            width={40}\r\n            timeout={0}\r\n          />\r\n        </PrimaryButton>\r\n      ) : (\r\n        <PrimaryButton\r\n          className={`${btnWidthClass || \"w-full\"} ${\r\n            !isValid\r\n              ? `cursor-not-allowed ${btnDisabledColorClass || \"bg-primary-1\"}`\r\n              : btnColorClass || \"bg-primary-2\"\r\n          }`}\r\n          type=\"submit\"\r\n          disabled={!isValid}\r\n        >\r\n          {btnText}\r\n        </PrimaryButton>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomFormSubmitBtn;\r\n","import axios from \"utils/axiosInstance.util\";\r\nimport { getUserFromLocalStorage } from \"utils/auth.util\";\r\n\r\nexport default async (projectId, values) => {\r\n  let token = getUserFromLocalStorage();\r\n\r\n  let url = `/api/${process.env.REACT_APP_API_VERSION}/project/${projectId}/update`;\r\n\r\n  let { data } = await axios.patch(url, values, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n\r\n  return data;\r\n};\r\n","import React, { PureComponent } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Formik, Form } from \"formik\";\r\nimport { object, string } from \"yup\";\r\n\r\nimport CustomFormField from \"elements/CustomForm/CustomFormField\";\r\nimport CustomFormSubmitBtn from \"elements/CustomForm/CustomFormSubmitBtn\";\r\nimport Dashboard from \"../Dashboard\";\r\nimport Alert from \"elements/Alert\";\r\n\r\n// Actions\r\nimport {\r\n  updateProjectDetails,\r\n  resetProjectUpdationDetails,\r\n} from \"actions/project/updateProjectDetails\";\r\n\r\nconst ProjectGeneralSettingSchema = object().shape({\r\n  name: string().min(3, \"Too Short!\").max(50, \"Too Long!\").required(\"Required\"),\r\n});\r\n\r\nclass ProjectGeneralSetting extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  // params = useParams();\r\n\r\n  handleSubmit(values, { setSubmitting }) {\r\n    // setTimeout(() => {\r\n    //   alert(JSON.stringify(values, null, 2));\r\n    //   setSubmitting(false);\r\n    // }, 400);\r\n\r\n    this.props.updateProjectDetails(this.props.project._id, values, {\r\n      setSubmitting,\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    // this.props.resetProjectUpdationDetails();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.project)\r\n      return (\r\n        <Dashboard>\r\n          <div className=\"ProjectGeneralSetting w-1/2 mx-auto p-4 shadow-md bg-white\">\r\n            We cannot find this project\r\n          </div>\r\n        </Dashboard>\r\n      );\r\n\r\n    let { name, _id: id } = this.props.project;\r\n\r\n    return (\r\n      <Dashboard>\r\n        <div className=\"ProjectGeneralSetting w-1/2 mx-auto p-4 shadow-md bg-white\">\r\n          {this.props.updateDetails.error &&\r\n            this.props.updateDetails.error.message && (\r\n              <Alert\r\n                type=\"error\"\r\n                heading={this.props.updateDetails.error.message}\r\n              />\r\n              // <p>{this.props.updateDetails.error.message}</p>\r\n            )}\r\n\r\n          {this.props.updateDetails.data &&\r\n            this.props.updateDetails.data.success && (\r\n              <Alert\r\n                type=\"success\"\r\n                heading=\"Successfully updated your details\"\r\n              />\r\n              // <p>Successfully updated your details.</p>\r\n            )}\r\n\r\n          <Formik\r\n            initialValues={{ name, projectId: id }}\r\n            validationSchema={ProjectGeneralSettingSchema}\r\n            onSubmit={this.handleSubmit}\r\n          >\r\n            {({ isSubmitting, isValid }) => (\r\n              <Form>\r\n                <CustomFormField label=\"Project Name\" name=\"name\" type=\"text\" />\r\n                <CustomFormField\r\n                  label=\"Project Id\"\r\n                  name=\"projectId\"\r\n                  type=\"text\"\r\n                  disabled={true}\r\n                />\r\n                <CustomFormSubmitBtn\r\n                  isSubmitting={isSubmitting}\r\n                  isValid={isValid}\r\n                  btnText=\"Update Project\"\r\n                  btnColorClass=\"bg-primary-2\"\r\n                  btnWidthClass=\"w-1/2\"\r\n                />\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </div>\r\n      </Dashboard>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  project: state.project.currentProject && state.project.currentProject.data,\r\n  updateDetails: state.project.settings.updateProjectDetails,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  updateProjectDetails,\r\n  resetProjectUpdationDetails,\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ProjectGeneralSetting);\r\n","import {\r\n  UPDATE_PROJECT_DETAILS,\r\n  RESET_PROJECT_UPDATION_DETAILS,\r\n} from \"./types\";\r\n\r\n// Service\r\nimport updateProjectDetailsService from \"services/api/project/updateProjectDetails.service\";\r\nimport { setCurrentProject } from \"./setCurrentProject\";\r\nimport { setCurrentProjectToLocalStorage } from \"utils/project.util\";\r\n\r\nexport const updateProjectDetails = (\r\n  projectId,\r\n  values,\r\n  { setSubmitting }\r\n) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: UPDATE_PROJECT_DETAILS.TRIGGER });\r\n\r\n    dispatch({ type: UPDATE_PROJECT_DETAILS.REQUEST });\r\n\r\n    let res = await updateProjectDetailsService(projectId, values);\r\n\r\n    dispatch({\r\n      type: UPDATE_PROJECT_DETAILS.SUCCESS,\r\n      payload: res,\r\n    });\r\n\r\n    dispatch(setCurrentProject(res.data));\r\n    setCurrentProjectToLocalStorage(res.data);\r\n  } catch (err) {\r\n    let error = {};\r\n\r\n    if (err.response) {\r\n      error = err.response.data;\r\n    } else {\r\n      error.message = err.message ? err.message : err;\r\n    }\r\n    dispatch({\r\n      type: UPDATE_PROJECT_DETAILS.FAILURE,\r\n      payload: error,\r\n    });\r\n  } finally {\r\n    dispatch({ type: UPDATE_PROJECT_DETAILS.FULFIL });\r\n    setSubmitting(false);\r\n  }\r\n};\r\n\r\nexport const resetProjectUpdationDetails = () => (dispatch) => {\r\n  dispatch({ type: RESET_PROJECT_UPDATION_DETAILS });\r\n};\r\n"],"sourceRoot":""}